[gd_scene load_steps=16 format=2]

[ext_resource path="res://Scenes/Levels/Tutorials/Init/Barrier.tscn" type="PackedScene" id=1]
[ext_resource path="res://Assets/Instances/Entities/Player/Player.tscn" type="PackedScene" id=2]

[sub_resource type="OpenSimplexNoise" id=1]
seed = 6
persistence = 0.337
lacunarity = 2.13

[sub_resource type="NoiseTexture" id=2]
width = 1024
height = 1024
seamless = true
noise = SubResource( 1 )

[sub_resource type="SpatialMaterial" id=3]
albedo_color = Color( 0.6, 0.6, 0.6, 1 )
albedo_texture = SubResource( 2 )
metallic = 1.0
metallic_texture = SubResource( 2 )

[sub_resource type="CubeMesh" id=4]
material = SubResource( 3 )
size = Vector3( 2, 0.5, 32 )

[sub_resource type="SpatialMaterial" id=5]
albedo_color = Color( 0, 1, 0.501961, 1 )
emission_enabled = true
emission = Color( 0, 1, 1, 1 )
emission_energy = 1.0
emission_operator = 0
emission_on_uv2 = false

[sub_resource type="CubeMesh" id=6]
material = SubResource( 5 )
size = Vector3( 1.6, 0.8, 1.6 )

[sub_resource type="ConvexPolygonShape" id=7]
points = PoolVector3Array( -1, 0.25, 16, 1, 0.25, -16, 1, 0.25, 16, -1, 0.25, -16, -1, -0.25, 16, 1, -0.25, -16, 1, -0.25, 16, -1, -0.25, -16, 1, 0.25, 16, -1, 0.25, -16, 1, 0.25, -16, -1, 0.25, 16, 1, -0.25, 16, -1, -0.25, -16, 1, -0.25, -16, -1, -0.25, 16, 1, 0.25, 16, -1, -0.25, 16, -1, 0.25, 16, 1, -0.25, 16, 1, 0.25, -16, -1, -0.25, -16, -1, 0.25, -16, 1, -0.25, -16 )

[sub_resource type="BoxShape" id=8]
extents = Vector3( 1, 1, 0.2 )

[sub_resource type="BoxShape" id=9]
extents = Vector3( 16, 1, 0.2 )

[sub_resource type="Shader" id=11]
code = "shader_type spatial;
render_mode unshaded;

uniform sampler2D tex: hint_albedo;

void fragment() {
	ALBEDO.rgb = texture(tex, SCREEN_UV).rgb;
}
"

[sub_resource type="ShaderMaterial" id=12]
shader = SubResource( 11 )

[sub_resource type="QuadMesh" id=13]
material = SubResource( 12 )
size = Vector2( 2, 2.7 )

[sub_resource type="Environment" id=10]

[node name="Init" type="Node"]

[node name="ThreeD" type="Spatial" parent="."]

[node name="WalkPath" type="MeshInstance" parent="ThreeD"]
editor/display_folded = true
mesh = SubResource( 4 )
material/0 = null

[node name="MeshInstance" type="MeshInstance" parent="ThreeD/WalkPath"]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, 15 )
mesh = SubResource( 6 )
material/0 = null

[node name="StaticBody" type="StaticBody" parent="ThreeD/WalkPath"]

[node name="CollisionShape" type="CollisionShape" parent="ThreeD/WalkPath/StaticBody"]
shape = SubResource( 7 )

[node name="Barrier" parent="ThreeD/WalkPath" instance=ExtResource( 1 )]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, 13 )

[node name="Barrier2" parent="ThreeD/WalkPath" instance=ExtResource( 1 )]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, 12 )

[node name="Barrier3" parent="ThreeD/WalkPath" instance=ExtResource( 1 )]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, 11 )

[node name="Barrier4" parent="ThreeD/WalkPath" instance=ExtResource( 1 )]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, 10 )

[node name="Barrier5" parent="ThreeD/WalkPath" instance=ExtResource( 1 )]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, 9 )

[node name="Barrier6" parent="ThreeD/WalkPath" instance=ExtResource( 1 )]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, 8 )

[node name="Barrier7" parent="ThreeD/WalkPath" instance=ExtResource( 1 )]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, 7 )

[node name="Barrier8" parent="ThreeD/WalkPath" instance=ExtResource( 1 )]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, 6 )

[node name="Barrier9" parent="ThreeD/WalkPath" instance=ExtResource( 1 )]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, 5 )

[node name="Barrier10" parent="ThreeD/WalkPath" instance=ExtResource( 1 )]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, 4 )

[node name="Barrier11" parent="ThreeD/WalkPath" instance=ExtResource( 1 )]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, 3 )

[node name="Barrier12" parent="ThreeD/WalkPath" instance=ExtResource( 1 )]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, 2 )

[node name="Barrier13" parent="ThreeD/WalkPath" instance=ExtResource( 1 )]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, 1 )

[node name="Barrier14" parent="ThreeD/WalkPath" instance=ExtResource( 1 )]

[node name="Barrier15" parent="ThreeD/WalkPath" instance=ExtResource( 1 )]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, -1 )

[node name="Barrier16" parent="ThreeD/WalkPath" instance=ExtResource( 1 )]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, -2 )

[node name="Barrier17" parent="ThreeD/WalkPath" instance=ExtResource( 1 )]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, -3 )

[node name="Barrier18" parent="ThreeD/WalkPath" instance=ExtResource( 1 )]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, -4 )

[node name="Barrier19" parent="ThreeD/WalkPath" instance=ExtResource( 1 )]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, -5 )

[node name="Barrier20" parent="ThreeD/WalkPath" instance=ExtResource( 1 )]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, -6 )

[node name="Barrier21" parent="ThreeD/WalkPath" instance=ExtResource( 1 )]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, -7 )

[node name="Barrier22" parent="ThreeD/WalkPath" instance=ExtResource( 1 )]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, -8 )

[node name="Barrier23" parent="ThreeD/WalkPath" instance=ExtResource( 1 )]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, -9 )

[node name="Barrier24" parent="ThreeD/WalkPath" instance=ExtResource( 1 )]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, -10 )

[node name="Barrier25" parent="ThreeD/WalkPath" instance=ExtResource( 1 )]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, -11 )

[node name="Barrier26" parent="ThreeD/WalkPath" instance=ExtResource( 1 )]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, -12 )

[node name="Barrier27" parent="ThreeD/WalkPath" instance=ExtResource( 1 )]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, -13 )

[node name="Barrier28" parent="ThreeD/WalkPath" instance=ExtResource( 1 )]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, -14 )

[node name="Barrier29" parent="ThreeD/WalkPath" instance=ExtResource( 1 )]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, -15 )

[node name="Barrier30" parent="ThreeD/WalkPath" instance=ExtResource( 1 )]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, -16 )

[node name="OmniLight" type="OmniLight" parent="ThreeD/WalkPath"]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0.4, 15 )
light_color = Color( 0, 1, 1, 1 )
omni_range = 2.0
omni_attenuation = 0.615573

[node name="Player" parent="ThreeD" instance=ExtResource( 2 )]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0.3, 15 )

[node name="Back" type="StaticBody" parent="ThreeD"]
editor/display_folded = true
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, 16 )

[node name="CollisionShape" type="CollisionShape" parent="ThreeD/Back"]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 1.3, 0.200001 )
shape = SubResource( 8 )

[node name="Left" type="StaticBody" parent="ThreeD"]
editor/display_folded = true

[node name="CollisionShape" type="CollisionShape" parent="ThreeD/Left"]
transform = Transform( -4.37114e-008, 0, 1, 0, 1, 0, -1, 0, -4.37114e-008, 1.2, 1.3, 0.100001 )
shape = SubResource( 9 )

[node name="Right" type="StaticBody" parent="ThreeD"]
editor/display_folded = true

[node name="CollisionShape" type="CollisionShape" parent="ThreeD/Right"]
transform = Transform( -4.37114e-008, 0, 1, 0, 1, 0, -1, 0, -4.37114e-008, -1.2, 1.3, 0.100001 )
shape = SubResource( 9 )

[node name="Portal" type="MeshInstance" parent="ThreeD"]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 1.6, -16 )
mesh = SubResource( 13 )
material/0 = null

[node name="TwoD" type="Node2D" parent="."]

[node name="GUI" type="Control" parent="."]
margin_right = 40.0
margin_bottom = 40.0

[node name="WorldEnvironment" type="WorldEnvironment" parent="."]
environment = SubResource( 10 )
